apiVersion: v1
items:
- apiVersion: v1
  data:
    kubernetes-dashboard.json: |
      {
        "title": "Kubernetes Cluster Monitoring",
        "uid": "kubernetes-cluster",
        "timezone": "browser",
        "schemaVersion": 16,
        "version": 0,
        "refresh": "30s",
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "panels": [
          {
            "title": "Total Nodes",
            "type": "stat",
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 0,
              "y": 0
            },
            "targets": [
              {
                "expr": "count(kube_node_info)",
                "legendFormat": "Nodes"
              }
            ]
          },
          {
            "title": "Total Pods",
            "type": "stat",
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 3,
              "y": 0
            },
            "targets": [
              {
                "expr": "count(kube_pod_info)",
                "legendFormat": "Pods"
              }
            ]
          },
          {
            "title": "Total Namespaces",
            "type": "stat",
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 6,
              "y": 0
            },
            "targets": [
              {
                "expr": "count(kube_namespace_info)",
                "legendFormat": "Namespaces"
              }
            ]
          },
          {
            "title": "Cluster CPU Usage",
            "type": "stat",
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 9,
              "y": 0
            },
            "targets": [
              {
                "expr": "sum(rate(node_cpu_seconds_total{mode!=\"idle\"}[1m]))",
                "legendFormat": "CPU Cores"
              }
            ]
          },
          {
            "title": "Cluster Memory Usage",
            "type": "stat",
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 12,
              "y": 0
            },
            "targets": [
              {
                "expr": "(sum(node_memory_MemTotal_bytes) - sum(node_memory_MemAvailable_bytes)) / 1024 / 1024 / 1024",
                "legendFormat": "Memory (GB)"
              }
            ]
          },
          {
            "title": "Node CPU Usage %",
            "type": "graph",
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 4
            },
            "targets": [
              {
                "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[1m])) * 100)",
                "legendFormat": "{{ instance }}"
              }
            ]
          },
          {
            "title": "Node Memory Usage %",
            "type": "graph",
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 4
            },
            "targets": [
              {
                "expr": "100 - ((node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes) * 100)",
                "legendFormat": "{{ instance }}"
              }
            ]
          },
          {
            "title": "CPU Requests & Limits (All Namespaces)",
            "type": "table",
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 0,
              "y": 12
            },
            "targets": [
              {
                "expr": "kube_pod_container_resource_requests{resource=\"cpu\"}",
                "format": "table",
                "instant": true
              }
            ]
          },
          {
            "title": "CPU Limits (All Namespaces)",
            "type": "table",
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 12,
              "y": 12
            },
            "targets": [
              {
                "expr": "kube_pod_container_resource_limits{resource=\"cpu\"}",
                "format": "table",
                "instant": true
              }
            ]
          },
          {
            "title": "Memory Requests (All Namespaces - MB)",
            "type": "table",
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 0,
              "y": 24
            },
            "targets": [
              {
                "expr": "round(kube_pod_container_resource_requests{resource=\"memory\"} / 1024 / 1024, 0.1)",
                "format": "table",
                "instant": true
              }
            ]
          },
          {
            "title": "Memory Limits (All Namespaces - MB)",
            "type": "table",
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 12,
              "y": 24
            },
            "targets": [
              {
                "expr": "round(kube_pod_container_resource_limits{resource=\"memory\"} / 1024 / 1024, 0.1)",
                "format": "table",
                "instant": true
              }
            ]
          },
          {
            "title": "Pod Restart Count (All Namespaces)",
            "type": "table",
            "gridPos": {
              "h": 10,
              "w": 24,
              "x": 0,
              "y": 36
            },
            "targets": [
              {
                "expr": "sum by (pod, namespace) (kube_pod_container_status_restarts_total)",
                "format": "table",
                "instant": true,
                "legendFormat": "{{ pod }} - {{ namespace }}"
              }
            ]
          },
          {
            "title": "Pod Status (Running/Pending/Failed)",
            "type": "table",
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 0,
              "y": 46
            },
            "targets": [
              {
                "expr": "kube_pod_status_phase",
                "format": "table",
                "instant": true,
                "legendFormat": "{{ pod }} - {{ namespace }} - {{ phase }}"
              }
            ]
          },
          {
            "title": "Pod Container Ready Status",
            "type": "table",
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 12,
              "y": 46
            },
            "targets": [
              {
                "expr": "kube_pod_container_status_ready",
                "format": "table",
                "instant": true,
                "legendFormat": "{{ pod }} - {{ namespace }} - Ready: {{ value }}"
              }
            ]
          },
          {
            "title": "Network In (Bytes/Sec)",
            "type": "graph",
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 58
            },
            "targets": [
              {
                "expr": "rate(node_network_receive_bytes_total{device!=\"lo\"}[1m])",
                "legendFormat": "{{ device }} - {{ instance }}"
              }
            ]
          },
          {
            "title": "Network Out (Bytes/Sec)",
            "type": "graph",
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 58
            },
            "targets": [
              {
                "expr": "rate(node_network_transmit_bytes_total{device!=\"lo\"}[1m])",
                "legendFormat": "{{ device }} - {{ instance }}"
              }
            ]
          },
          {
            "title": "Network Errors & Drops",
            "type": "table",
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 36
            },
            "targets": [
              {
                "expr": "node_network_receive_errs_total + node_network_transmit_errs_total + node_network_receive_drop_total + node_network_transmit_drop_total",
                "format": "table",
                "instant": true,
                "legendFormat": "{{ device }} - {{ instance }}"
              }
            ]
          }
        ]
      }
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"kubernetes-dashboard.json":"{\n  \"title\": \"Kubernetes Cluster Monitoring\",\n  \"uid\": \"kubernetes-cluster\",\n  \"timezone\": \"browser\",\n  \"schemaVersion\": 16,\n  \"version\": 0,\n  \"refresh\": \"30s\",\n  \"time\": {\n    \"from\": \"now-1h\",\n    \"to\": \"now\"\n  },\n  \"panels\": [\n    {\n      \"title\": \"Total Nodes\",\n      \"type\": \"stat\",\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 3,\n        \"x\": 0,\n        \"y\": 0\n      },\n      \"targets\": [\n        {\n          \"expr\": \"count(kube_node_info)\",\n          \"legendFormat\": \"Nodes\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Total Pods\",\n      \"type\": \"stat\",\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 3,\n        \"x\": 3,\n        \"y\": 0\n      },\n      \"targets\": [\n        {\n          \"expr\": \"count(kube_pod_info)\",\n          \"legendFormat\": \"Pods\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Total Namespaces\",\n      \"type\": \"stat\",\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 3,\n        \"x\": 6,\n        \"y\": 0\n      },\n      \"targets\": [\n        {\n          \"expr\": \"count(kube_namespace_info)\",\n          \"legendFormat\": \"Namespaces\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Cluster CPU Usage\",\n      \"type\": \"stat\",\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 3,\n        \"x\": 9,\n        \"y\": 0\n      },\n      \"targets\": [\n        {\n          \"expr\": \"sum(rate(node_cpu_seconds_total{mode!=\\\"idle\\\"}[1m]))\",\n          \"legendFormat\": \"CPU Cores\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Cluster Memory Usage\",\n      \"type\": \"stat\",\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 3,\n        \"x\": 12,\n        \"y\": 0\n      },\n      \"targets\": [\n        {\n          \"expr\": \"(sum(node_memory_MemTotal_bytes) - sum(node_memory_MemAvailable_bytes)) / 1024 / 1024 / 1024\",\n          \"legendFormat\": \"Memory (GB)\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Node CPU Usage %\",\n      \"type\": \"graph\",\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 4\n      },\n      \"targets\": [\n        {\n          \"expr\": \"100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\\\"idle\\\"}[1m])) * 100)\",\n          \"legendFormat\": \"{{ instance }}\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Node Memory Usage %\",\n      \"type\": \"graph\",\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 4\n      },\n      \"targets\": [\n        {\n          \"expr\": \"100 - ((node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes) * 100)\",\n          \"legendFormat\": \"{{ instance }}\"\n        }\n      ]\n    },\n    {\n      \"title\": \"CPU Requests \u0026 Limits (All Namespaces)\",\n      \"type\": \"table\",\n      \"gridPos\": {\n        \"h\": 12,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 12\n      },\n      \"targets\": [\n        {\n          \"expr\": \"kube_pod_container_resource_requests{resource=\\\"cpu\\\"}\",\n          \"format\": \"table\",\n          \"instant\": true\n        }\n      ]\n    },\n    {\n      \"title\": \"CPU Limits (All Namespaces)\",\n      \"type\": \"table\",\n      \"gridPos\": {\n        \"h\": 12,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 12\n      },\n      \"targets\": [\n        {\n          \"expr\": \"kube_pod_container_resource_limits{resource=\\\"cpu\\\"}\",\n          \"format\": \"table\",\n          \"instant\": true\n        }\n      ]\n    },\n    {\n      \"title\": \"Memory Requests (All Namespaces - MB)\",\n      \"type\": \"table\",\n      \"gridPos\": {\n        \"h\": 12,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 24\n      },\n      \"targets\": [\n        {\n          \"expr\": \"round(kube_pod_container_resource_requests{resource=\\\"memory\\\"} / 1024 / 1024, 0.1)\",\n          \"format\": \"table\",\n          \"instant\": true\n        }\n      ]\n    },\n    {\n      \"title\": \"Memory Limits (All Namespaces - MB)\",\n      \"type\": \"table\",\n      \"gridPos\": {\n        \"h\": 12,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 24\n      },\n      \"targets\": [\n        {\n          \"expr\": \"round(kube_pod_container_resource_limits{resource=\\\"memory\\\"} / 1024 / 1024, 0.1)\",\n          \"format\": \"table\",\n          \"instant\": true\n        }\n      ]\n    },\n    {\n      \"title\": \"Pod Restart Count (All Namespaces)\",\n      \"type\": \"table\",\n      \"gridPos\": {\n        \"h\": 10,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 36\n      },\n      \"targets\": [\n        {\n          \"expr\": \"sum by (pod, namespace) (kube_pod_container_status_restarts_total)\",\n          \"format\": \"table\",\n          \"instant\": true,\n          \"legendFormat\": \"{{ pod }} - {{ namespace }}\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Pod Status (Running/Pending/Failed)\",\n      \"type\": \"table\",\n      \"gridPos\": {\n        \"h\": 12,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 46\n      },\n      \"targets\": [\n        {\n          \"expr\": \"kube_pod_status_phase\",\n          \"format\": \"table\",\n          \"instant\": true,\n          \"legendFormat\": \"{{ pod }} - {{ namespace }} - {{ phase }}\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Pod Container Ready Status\",\n      \"type\": \"table\",\n      \"gridPos\": {\n        \"h\": 12,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 46\n      },\n      \"targets\": [\n        {\n          \"expr\": \"kube_pod_container_status_ready\",\n          \"format\": \"table\",\n          \"instant\": true,\n          \"legendFormat\": \"{{ pod }} - {{ namespace }} - Ready: {{ value }}\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Network In (Bytes/Sec)\",\n      \"type\": \"graph\",\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 58\n      },\n      \"targets\": [\n        {\n          \"expr\": \"rate(node_network_receive_bytes_total{device!=\\\"lo\\\"}[1m])\",\n          \"legendFormat\": \"{{ device }} - {{ instance }}\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Network Out (Bytes/Sec)\",\n      \"type\": \"graph\",\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 58\n      },\n      \"targets\": [\n        {\n          \"expr\": \"rate(node_network_transmit_bytes_total{device!=\\\"lo\\\"}[1m])\",\n          \"legendFormat\": \"{{ device }} - {{ instance }}\"\n        }\n      ]\n    },\n    {\n      \"title\": \"Network Errors \u0026 Drops\",\n      \"type\": \"table\",\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 36\n      },\n      \"targets\": [\n        {\n          \"expr\": \"node_network_receive_errs_total + node_network_transmit_errs_total + node_network_receive_drop_total + node_network_transmit_drop_total\",\n          \"format\": \"table\",\n          \"instant\": true,\n          \"legendFormat\": \"{{ device }} - {{ instance }}\"\n        }\n      ]\n    }\n  ]\n}\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"grafana-dashboard-kubernetes","namespace":"monitoring"}}
    creationTimestamp: "2025-12-31T07:33:09Z"
    name: grafana-dashboard-kubernetes
    namespace: monitoring
    resourceVersion: "2224174"
    uid: 5749e574-c5e8-44b8-88b6-3aa72f6ca45b
- apiVersion: v1
  data:
    dashboards.yml: |
      apiVersion: 1
      providers:
        - name: 'Default'
          orgId: 1
          folder: ''
          type: file
          disableDeletion: false
          options:
            path: /var/lib/grafana/dashboards
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"dashboards.yml":"apiVersion: 1\nproviders:\n  - name: 'Default'\n    orgId: 1\n    folder: ''\n    type: file\n    disableDeletion: false\n    options:\n      path: /var/lib/grafana/dashboards\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"grafana-dashboards-provider","namespace":"monitoring"}}
    creationTimestamp: "2025-12-31T07:33:09Z"
    name: grafana-dashboards-provider
    namespace: monitoring
    resourceVersion: "1940676"
    uid: 7217c0a1-99b1-47fe-939b-f1038d5db28e
- apiVersion: v1
  data:
    prometheus.yml: |
      apiVersion: 1
      datasources:
        - name: Prometheus
          type: prometheus
          access: proxy
          url: http://prometheus-service.monitoring.svc.cluster.local:80
          isDefault: true
          editable: true
          jsonData:
            timeInterval: "15s"
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"prometheus.yml":"apiVersion: 1\ndatasources:\n  - name: Prometheus\n    type: prometheus\n    access: proxy\n    url: http://prometheus-service.monitoring.svc.cluster.local:80\n    isDefault: true\n    editable: true\n    jsonData:\n      timeInterval: \"15s\"\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"grafana-datasources","namespace":"monitoring"}}
    creationTimestamp: "2025-12-31T07:33:09Z"
    name: grafana-datasources
    namespace: monitoring
    resourceVersion: "2043861"
    uid: 95507379-0d1c-4e73-9048-b6fb47dc103d
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIDBTCCAe2gAwIBAgIIJ5xPFJdwhCUwDQYJKoZIhvcNAQELBQAwFTETMBEGA1UE
      AxMKa3ViZXJuZXRlczAeFw0yNTEyMjQwNTM1MDlaFw0zNTEyMjIwNTQwMDlaMBUx
      EzARBgNVBAMTCmt1YmVybmV0ZXMwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK
      AoIBAQCvgesRZkZ8rEduxXpFVE3euk5OVX9Q04kt+1uNULXOvCNezTVBo2zv5sMJ
      33QtVJ8M7HtPGRWHeQumpsh2YLlX+UU4pFB3DkTOjzm74J+jBwsbCyFeVykqFz0l
      CrG1prX/T8bQeHzoMfsyOgefMfOIHKxG29CSDOu8qA1BUer1x6StdiMkVUCcdA4O
      oIBqD4lwJclmES87CcxA74QyeUSmECcgMc0vevPfnftxd5P+Q7xk7VEQdDc8LA3l
      mow76O9qPvpwFwZgJfF52I/uswQDcUucQSubr0GQBy2OVkx1Ltpgn/+MZZ+5f7rt
      RV/dktTYNq5yZ4fp5T4VjF5Kh8ubAgMBAAGjWTBXMA4GA1UdDwEB/wQEAwICpDAP
      BgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBQUv/vYvYtmSOikkFH+P1MB91HFsDAV
      BgNVHREEDjAMggprdWJlcm5ldGVzMA0GCSqGSIb3DQEBCwUAA4IBAQAHRuB0/A//
      Oux35ukE0pgQsMVd9P26i3vHQBBNCVtHjKwb8OdiW6/IF2hniB7sVnsjun/b6P2o
      funE2iDxLLkcCsPw0hwoThMU9scDFH3N87Qt/FsHLR2hl35047YZOxAhte6ET6q0
      3pjW9iVztGYtke9qPMzanXuq4jpuPIBXCGLueLEyPee1+w+MHa+6ufuO9EZ45auJ
      LN71dSwZgY61/6cTPDFfm/Imj7/UZ8p9g0EdVI0TB+vdT1+OXx04m4Zc0vr30Peh
      IAc3yJVqixfVbw1B2+1j1EPzWwZ2AN/04TU9jW0dg5o/+sAsA8iUA8T8Bf5d/BLK
      eghQoFInrs9t
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    creationTimestamp: "2025-12-31T07:32:41Z"
    name: kube-root-ca.crt
    namespace: monitoring
    resourceVersion: "1940546"
    uid: 0140c5f5-fce6-424c-98c2-99c035f9911b
- apiVersion: v1
  data:
    prometheus.yml: "global:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n
      \ external_labels:\n    cluster: 'eksdemo1'\n    environment: 'production'\n\nscrape_configs:\n
      \ # Prometheus self-monitoring\n  - job_name: 'prometheus'\n    static_configs:\n
      \     - targets: ['localhost:9090']\n  \n  # Kubernetes API Server metrics\n
      \ - job_name: 'kubernetes-apiservers'\n    kubernetes_sd_configs:\n      - role:
      endpoints\n    scheme: https\n    tls_config:\n      ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n
      \   bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n
      \   relabel_configs:\n      - source_labels: [__meta_kubernetes_namespace, __meta_kubernetes_service_name,
      __meta_kubernetes_endpoint_port_name]\n        action: keep\n        regex:
      default;kubernetes;https\n  \n  # Node metrics (CPU, Memory, Disk utilization)
      and Kubelet\n  - job_name: 'kubernetes-nodes'\n    kubernetes_sd_configs:\n
      \     - role: node\n    scheme: https\n    tls_config:\n      ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n
      \   bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n
      \   relabel_configs:\n      - action: labelmap\n        regex: __meta_kubernetes_node_label_(.+)\n
      \     - source_labels: [__address__]\n        action: replace\n        regex:
      ([^:]+)(?::\\d+)?\n        replacement: ${1}:10250\n        target_label: __address__\n
      \ \n  # Node cadvisor metrics (container resource utilization)\n  - job_name:
      'kubernetes-cadvisor'\n    kubernetes_sd_configs:\n      - role: node\n    scheme:
      https\n    tls_config:\n      ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n
      \   bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n
      \   relabel_configs:\n      - action: labelmap\n        regex: __meta_kubernetes_node_label_(.+)\n
      \     - source_labels: [__address__]\n        action: replace\n        regex:
      ([^:]+)(?::\\d+)?\n        replacement: ${1}:4194\n        target_label: __address__\n
      \   metrics_path: /metrics\n  \n  # Pod metrics with resource utilization\n
      \ - job_name: 'kubernetes-pods'\n    kubernetes_sd_configs:\n      - role: pod\n
      \   relabel_configs:\n      - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]\n
      \       action: keep\n        regex: 'true'\n      - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path]\n
      \       action: replace\n        target_label: __metrics_path__\n        regex:
      (.+)\n      - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]\n
      \       action: replace\n        regex: ([^:]+)(?::\\d+)?;(\\d+)\n        replacement:
      $1:$2\n        target_label: __address__\n      - action: labelmap\n        regex:
      __meta_kubernetes_pod_label_(.+)\n      - source_labels: [__meta_kubernetes_namespace]\n
      \       action: replace\n        target_label: kubernetes_namespace\n      -
      source_labels: [__meta_kubernetes_pod_name]\n        action: replace\n        target_label:
      kubernetes_pod_name\n  \n  # Node Exporter metrics (CPU, Memory, Disk utilization)\n
      \ - job_name: 'node-exporter'\n    static_configs:\n      - targets: ['node-exporter:9100']\n
      \ \n  # kube-state-metrics (Kubernetes cluster state)\n  - job_name: 'kube-state-metrics'\n
      \   static_configs:\n      - targets: ['kube-state-metrics:8080']\n"
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"prometheus.yml":"global:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n  external_labels:\n    cluster: 'eksdemo1'\n    environment: 'production'\n\nscrape_configs:\n  # Prometheus self-monitoring\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n  \n  # Kubernetes API Server metrics\n  - job_name: 'kubernetes-apiservers'\n    kubernetes_sd_configs:\n      - role: endpoints\n    scheme: https\n    tls_config:\n      ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n    bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n    relabel_configs:\n      - source_labels: [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]\n        action: keep\n        regex: default;kubernetes;https\n  \n  # Node metrics (CPU, Memory, Disk utilization) and Kubelet\n  - job_name: 'kubernetes-nodes'\n    kubernetes_sd_configs:\n      - role: node\n    scheme: https\n    tls_config:\n      ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n    bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n    relabel_configs:\n      - action: labelmap\n        regex: __meta_kubernetes_node_label_(.+)\n      - source_labels: [__address__]\n        action: replace\n        regex: ([^:]+)(?::\\d+)?\n        replacement: ${1}:10250\n        target_label: __address__\n  \n  # Node cadvisor metrics (container resource utilization)\n  - job_name: 'kubernetes-cadvisor'\n    kubernetes_sd_configs:\n      - role: node\n    scheme: https\n    tls_config:\n      ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n    bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n    relabel_configs:\n      - action: labelmap\n        regex: __meta_kubernetes_node_label_(.+)\n      - source_labels: [__address__]\n        action: replace\n        regex: ([^:]+)(?::\\d+)?\n        replacement: ${1}:4194\n        target_label: __address__\n    metrics_path: /metrics\n  \n  # Pod metrics with resource utilization\n  - job_name: 'kubernetes-pods'\n    kubernetes_sd_configs:\n      - role: pod\n    relabel_configs:\n      - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]\n        action: keep\n        regex: 'true'\n      - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path]\n        action: replace\n        target_label: __metrics_path__\n        regex: (.+)\n      - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]\n        action: replace\n        regex: ([^:]+)(?::\\d+)?;(\\d+)\n        replacement: $1:$2\n        target_label: __address__\n      - action: labelmap\n        regex: __meta_kubernetes_pod_label_(.+)\n      - source_labels: [__meta_kubernetes_namespace]\n        action: replace\n        target_label: kubernetes_namespace\n      - source_labels: [__meta_kubernetes_pod_name]\n        action: replace\n        target_label: kubernetes_pod_name\n  \n  # Node Exporter metrics (CPU, Memory, Disk utilization)\n  - job_name: 'node-exporter'\n    static_configs:\n      - targets: ['node-exporter:9100']\n  \n  # kube-state-metrics (Kubernetes cluster state)\n  - job_name: 'kube-state-metrics'\n    static_configs:\n      - targets: ['kube-state-metrics:8080']\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"prometheus-config","namespace":"monitoring"}}
    creationTimestamp: "2025-12-31T07:32:41Z"
    name: prometheus-config
    namespace: monitoring
    resourceVersion: "1940544"
    uid: 441daf65-bdd0-4e20-8438-7516c4b57dfa
kind: List
metadata:
  resourceVersion: ""
